import './polyfills.server.mjs';
import{$ as oe,A as h,B as z,C as d,D as s,E as g,F as P,G as y,H as p,I as X,J as c,K as W,L as ee,M as f,N as b,O as _,P as et,Q as V,R as L,T as ne,Y as ie,_ as re,a as Xt,aa as Ut,b as Jt,ba as ae,c as Yt,d as xt,da as nt,e as ut,ea as R,f as pt,fa as B,g as S,ga as se,h as Lt,ha as de,i as F,ia as A,j as w,ja as le,k as M,ka as ce,l as ht,la as ue,m as mt,n as Wt,o as Y,oa as pe,p as Qt,q as Q,r as tt,s as te,sa as Mt,t as wt,u as Rt,ua as U,v as u,va as it,w as m,wa as rt,x as gt,xa as he,y as H,ya as ot,z as E}from"./chunk-3QPZWELN.mjs";import{a as q,b as J}from"./chunk-VVCT4QZE.mjs";var G=(()=>{let t=class t{constructor(e,i){this.document=e,this.platformId=i,this.documentIsAccessible=se(this.platformId)}static getCookieRegExp(e){let i=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);let r=t.getCookieRegExp(e).exec(this.document.cookie);return r[1]?t.safeDecodeURIComponent(r[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},i=this.document;return i.cookie&&i.cookie!==""&&i.cookie.split(";").forEach(r=>{let[l,a]=r.split("=");e[t.safeDecodeURIComponent(l.replace(/^ /,""))]=t.safeDecodeURIComponent(a)}),e}set(e,i,r,l,a,v,C,T){if(!this.documentIsAccessible)return;if(typeof r=="number"||r instanceof Date||l||a||v||C){let Z={expires:r,path:l,domain:a,secure:v,sameSite:C||"Lax",partitioned:T};this.set(e,i,Z);return}let D=encodeURIComponent(e)+"="+encodeURIComponent(i)+";",x=r||{};if(x.expires)if(typeof x.expires=="number"){let Z=new Date(new Date().getTime()+x.expires*1e3*60*60*24);D+="expires="+Z.toUTCString()+";"}else D+="expires="+x.expires.toUTCString()+";";x.path&&(D+="path="+x.path+";"),x.domain&&(D+="domain="+x.domain+";"),x.secure===!1&&x.sameSite==="None"&&(x.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),x.secure&&(D+="secure;"),x.sameSite||(x.sameSite="Lax"),D+="sameSite="+x.sameSite+";",x.partitioned&&(D+="Partitioned;"),this.document.cookie=D}delete(e,i,r,l,a="Lax"){if(!this.documentIsAccessible)return;let v=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:v,path:i,domain:r,secure:l,sameSite:a})}deleteAll(e,i,r,l="Lax"){if(!this.documentIsAccessible)return;let a=this.getAll();for(let v in a)a.hasOwnProperty(v)&&this.delete(v,e,i,r,l)}};t.\u0275fac=function(i){return new(i||t)(tt(ae),tt(Qt))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var me=(()=>{let t=class t{constructor(e){this.cookieService=e}ngOnInit(){let e=this.cookieService.get("isLoggedIn")}};t.\u0275fac=function(i){return new(i||t)(m(G))},t.\u0275cmp=S({type:t,selectors:[["app-root"]],standalone:!0,features:[V],decls:1,vars:0,template:function(i,r){i&1&&g(0,"router-outlet")},dependencies:[Mt,le]});let n=t;return n})();var we=(()=>{let t=class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};t.\u0275fac=function(i){return new(i||t)(m(gt),m(ht))},t.\u0275dir=F({type:t});let n=t;return n})(),$t=(()=>{let t=class t extends we{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=wt(t)))(r||t)}})(),t.\u0275dir=F({type:t,features:[H]});let n=t;return n})(),Tt=new Y("");var Je={provide:Tt,useExisting:Q(()=>k),multi:!0};function Ye(){let n=Ut()?Ut().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Qe=new Y(""),k=(()=>{let t=class t extends we{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ye())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};t.\u0275fac=function(i){return new(i||t)(m(gt),m(ht),m(Qe,8))},t.\u0275dir=F({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&y("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[et([Je]),H]});let n=t;return n})();var Me=new Y(""),Ee=new Y("");function Se(n){return n!=null}function Ve(n){return ne(n)?Xt(n):n}function De(n){let t={};return n.forEach(o=>{t=o!=null?q(q({},t),o):t}),Object.keys(t).length===0?null:t}function Pe(n,t){return t.map(o=>o(n))}function tn(n){return!n.validate}function Ae(n){return n.map(t=>tn(t)?t:o=>t.validate(o))}function en(n){if(!n)return null;let t=n.filter(Se);return t.length==0?null:function(o){return De(Pe(o,t))}}function Ht(n){return n!=null?en(Ae(n)):null}function nn(n){if(!n)return null;let t=n.filter(Se);return t.length==0?null:function(o){let e=Pe(o,t).map(Ve);return Yt(e).pipe(Jt(De))}}function zt(n){return n!=null?nn(Ae(n)):null}function ge(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function rn(n){return n._rawValidators}function on(n){return n._rawAsyncValidators}function Gt(n){return n?Array.isArray(n)?n:[n]:[]}function St(n,t){return Array.isArray(n)?n.includes(t):n===t}function fe(n,t){let o=Gt(t);return Gt(n).forEach(i=>{St(o,i)||o.push(i)}),o}function be(n,t){return Gt(t).filter(o=>!St(n,o))}var Vt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,o){return this.control?this.control.hasError(t,o):!1}getError(t,o){return this.control?this.control.getError(t,o):null}},st=class extends Vt{get formDirective(){return null}get path(){return null}},vt=class extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Dt=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},an={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gi=J(q({},an),{"[class.ng-submitted]":"isSubmitted"}),N=(()=>{let t=class t extends Dt{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(m(vt,2))},t.\u0275dir=F({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[H]});let n=t;return n})(),kt=(()=>{let t=class t extends Dt{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(m(st,10))},t.\u0275dir=F({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[H]});let n=t;return n})();var bt="VALID",Et="INVALID",at="PENDING",_t="DISABLED";function Te(n){return(Ft(n)?n.validators:n)||null}function sn(n){return Array.isArray(n)?Ht(n):n||null}function ke(n,t){return(Ft(t)?t.asyncValidators:n)||null}function dn(n){return Array.isArray(n)?zt(n):n||null}function Ft(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ln(n,t,o){let e=n.controls;if(!(t?Object.keys(e):e).length)throw new xt(1e3,"");if(!e[o])throw new xt(1001,"")}function cn(n,t,o){n._forEachChild((e,i)=>{if(o[i]===void 0)throw new xt(1002,"")})}var Pt=class{constructor(t,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bt}get invalid(){return this.status===Et}get pending(){return this.status==at}get disabled(){return this.status===_t}get enabled(){return this.status!==_t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fe(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fe(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(be(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(be(t,this._rawAsyncValidators))}hasValidator(t){return St(this._rawValidators,t)}hasAsyncValidator(t){return St(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=at,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let o=this._parentMarkedDirty(t.onlySelf);this.status=_t,this.errors=null,this._forEachChild(e=>{e.disable(J(q({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(q({},t),{skipPristineCheck:o})),this._onDisabledChange.forEach(e=>e(!0))}enable(t={}){let o=this._parentMarkedDirty(t.onlySelf);this.status=bt,this._forEachChild(e=>{e.enable(J(q({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(J(q({},t),{skipPristineCheck:o})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bt||this.status===at)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_t:bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=at,this._hasOwnPendingAsyncValidator=!0;let o=Ve(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,o={}){this.errors=t,this._updateControlsErrors(o.emitEvent!==!1)}get(t){let o=t;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((e,i)=>e&&e._find(i),this)}getError(t,o){let e=o?this.get(o):this;return e&&e.errors?e.errors[t]:null}hasError(t,o){return!!this.getError(t,o)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?_t:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(at)?at:this._anyControlsHaveStatus(Et)?Et:bt}_anyControlsHaveStatus(t){return this._anyControls(o=>o.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ft(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let o=this._parent&&this._parent.dirty;return!t&&!!o&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=sn(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}},At=class extends Pt{constructor(t,o,e){super(Te(o),ke(e,o)),this.controls=t,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,o){return this.controls[t]?this.controls[t]:(this.controls[t]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(t,o,e={}){this.registerControl(t,o),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}removeControl(t,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(t,o,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],o&&this.registerControl(t,o),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,o={}){cn(this,!0,t),Object.keys(t).forEach(e=>{ln(this,!0,e),this.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(t,o={}){t!=null&&(Object.keys(t).forEach(e=>{let i=this.controls[e];i&&i.patchValue(t[e],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(t={},o={}){this._forEachChild((e,i)=>{e.reset(t?t[i]:null,{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(t,o,e)=>(t[e]=o.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(o,e)=>e._syncPendingControls()?!0:o);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(o=>{let e=this.controls[o];e&&t(e,o)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[o,e]of Object.entries(this.controls))if(this.contains(o)&&t(e))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(o,e,i)=>((e.enabled||this.disabled)&&(o[i]=e.value),o))}_reduceChildren(t,o){let e=t;return this._forEachChild((i,r)=>{e=o(e,i,r)}),e}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var qt=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Kt}),Kt="always";function un(n,t){return[...t.path,n]}function Fe(n,t,o=Kt){Oe(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||o==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),hn(n,t),gn(n,t),mn(n,t),pn(n,t)}function _e(n,t){n.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(t)})}function pn(n,t){if(t.valueAccessor.setDisabledState){let o=e=>{t.valueAccessor.setDisabledState(e)};n.registerOnDisabledChange(o),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(o)})}}function Oe(n,t){let o=rn(n);t.validator!==null?n.setValidators(ge(o,t.validator)):typeof o=="function"&&n.setValidators([o]);let e=on(n);t.asyncValidator!==null?n.setAsyncValidators(ge(e,t.asyncValidator)):typeof e=="function"&&n.setAsyncValidators([e]);let i=()=>n.updateValueAndValidity();_e(t._rawValidators,i),_e(t._rawAsyncValidators,i)}function hn(n,t){t.valueAccessor.registerOnChange(o=>{n._pendingValue=o,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ie(n,t)})}function mn(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ie(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Ie(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gn(n,t){let o=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};n.registerOnChange(o),t._registerOnDestroy(()=>{n._unregisterOnChange(o)})}function fn(n,t){n==null,Oe(n,t)}function bn(n,t){if(!n.hasOwnProperty("model"))return!1;let o=n.model;return o.isFirstChange()?!0:!Object.is(t,o.currentValue)}function _n(n){return Object.getPrototypeOf(n.constructor)===$t}function yn(n,t){n._syncPendingControls(),t.forEach(o=>{let e=o.control;e.updateOn==="submit"&&e._pendingChange&&(o.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function vn(n,t){if(!t)return null;Array.isArray(t);let o,e,i;return t.forEach(r=>{r.constructor===k?o=r:_n(r)?e=r:i=r}),i||e||o||null}var Cn={provide:st,useExisting:Q(()=>Ct)},yt=Promise.resolve(),Ct=(()=>{let t=class t extends st{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ut,this.form=new At({},Ht(e),zt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){yt.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Fe(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){yt.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){yt.then(()=>{let i=this._findContainer(e.path),r=new At({});fn(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){yt.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){yt.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,yn(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}};t.\u0275fac=function(i){return new(i||t)(m(Me,10),m(Ee,10),m(qt,8))},t.\u0275dir=F({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&y("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[pt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([Cn]),H]});let n=t;return n})();function ye(n,t){let o=n.indexOf(t);o>-1&&n.splice(o,1)}function ve(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xn=class extends Pt{constructor(t=null,o,e){super(Te(o),ke(e,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ft(o)&&(o.nonNullable||o.initialValueIsDefault)&&(ve(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,o={}){this.value=this._pendingValue=t,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(t,o={}){this.setValue(t,o)}reset(t=this.defaultValue,o={}){this._applyFormState(t),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ye(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ye(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ve(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var wn={provide:vt,useExisting:Q(()=>I)},Ce=Promise.resolve(),I=(()=>{let t=class t extends vt{constructor(e,i,r,l,a,v){super(),this._changeDetectorRef=a,this.callSetDisabledState=v,this.control=new xn,this._registered=!1,this.name="",this.update=new ut,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=vn(this,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),bn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ce.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&re(i);Ce.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?un(e,this._parent):[e]}};t.\u0275fac=function(i){return new(i||t)(m(st,9),m(Me,10),m(Ee,10),m(Tt,10),m(ie,8),m(qt,8))},t.\u0275dir=F({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[pt.None,"disabled","isDisabled"],model:[pt.None,"ngModel","model"],options:[pt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[et([wn]),H,te]});let n=t;return n})(),Ot=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=F({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=t;return n})();var Mn={provide:Tt,useExisting:Q(()=>dt),multi:!0};function Be(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function En(n){return n.split(":")[0]}var dt=(()=>{let t=class t extends $t{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=Be(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=En(e);return this._optionMap.has(i)?this._optionMap.get(i):e}};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=wt(t)))(r||t)}})(),t.\u0275dir=F({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&y("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([Mn]),H]});let n=t;return n})(),It=(()=>{let t=class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Be(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(m(ht),m(gt),m(dt,9))},t.\u0275dir=F({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=t;return n})(),Sn={provide:Tt,useExisting:Q(()=>Ne),multi:!0};function xe(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Vn(n){return n.split(":")[0]}var Ne=(()=>{let t=class t extends $t{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(l=>this._getOptionId(l));i=(l,a)=>{l._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,l)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],l=i.selectedOptions;if(l!==void 0){let a=l;for(let v=0;v<a.length;v++){let C=a[v],T=this._getOptionValue(C.value);r.push(T)}}else{let a=i.options;for(let v=0;v<a.length;v++){let C=a[v];if(C.selected){let T=this._getOptionValue(C.value);r.push(T)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Vn(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=wt(t)))(r||t)}})(),t.\u0275dir=F({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&y("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([Sn]),H]});let n=t;return n})(),Bt=(()=>{let t=class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(xe(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(xe(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(m(ht),m(gt),m(Ne,9))},t.\u0275dir=F({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=t;return n})();var Dn=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Lt({type:t}),t.\u0275inj=Wt({});let n=t;return n})();var j=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:qt,useValue:e.callSetDisabledState??Kt}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Lt({type:t}),t.\u0275inj=Wt({imports:[Dn]});let n=t;return n})();function Pn(n,t){n&1&&(d(0,"p",7),c(1,"\u5E33\u865F\u5BC6\u78BC\u932F\u8AA4"),s())}var je=(()=>{let t=class t{constructor(e,i,r){this.http=e,this.router=i,this.cookieService=r,this.username="",this.password=""}login(){let e=new de({"Content-Type":"application/json"});this.http.post("/api/Login",{username:this.username,password:this.password},{headers:e,observe:"response",responseType:"json"}).subscribe(i=>{console.log("\u767B\u5165\u56DE\u61C9\uFF1A",i.body),i.body.message==="\u767B\u5165\u6210\u529F"?(i.body.permissions==="1"?this.cookieService.set("permissions","true"):this.cookieService.set("permissions","false"),this.cookieService.set("isLoggedIn","true"),this.router.navigate(["/Interface"])):this.showErrorMessage=!0},i=>{console.error("\u767C\u751F\u932F\u8AA4",i),console.log("\u97FF\u61C9\u4E3B\u9AD4:",i.error)})}};t.\u0275fac=function(i){return new(i||t)(m(A),m(U),m(G))},t.\u0275cmp=S({type:t,selectors:[["app-login"]],standalone:!0,features:[V],decls:10,vars:3,consts:[[1,"body"],[1,"login-container"],[3,"ngSubmit"],["type","text","name","username","placeholder","\u4F7F\u7528\u8005\u540D\u7A31",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","\u5BC6\u78BC","autocomplete","current-password",3,"ngModel","ngModelChange"],["class","failureMessage",4,"ngIf"],["type","submit"],[1,"failureMessage"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"h2"),c(3,"Login"),s(),d(4,"form",2),y("ngSubmit",function(){return r.login()}),d(5,"input",3),_("ngModelChange",function(a){return b(r.username,a)||(r.username=a),a}),s(),d(6,"input",4),_("ngModelChange",function(a){return b(r.password,a)||(r.password=a),a}),s(),E(7,Pn,2,0,"p",5),d(8,"button",6),c(9,"Login"),s()()()()),i&2&&(u(5),f("ngModel",r.username),u(),f("ngModel",r.password),u(),h("ngIf",r.showErrorMessage))},dependencies:[j,Ot,k,N,kt,I,Ct,B,R],styles:[".body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;background:linear-gradient(to top right,#f96,#ff5e62);height:100vh;display:flex;justify-content:center;align-items:center}.login-container[_ngcontent-%COMP%]{background-color:#fffc;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;border-radius:5px;border:1px solid #ccc}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background-color:#ff5e62;color:#fff;cursor:pointer}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background-color:#ff3a3e}.failureMessage[_ngcontent-%COMP%]{color:#ff3a3e;font-weight:700}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#ff5e62;color:#fff;cursor:pointer;border:none;border-radius:5px;padding:12px 20px;font-size:16px;font-weight:700;text-transform:uppercase;transition:background-color .3s ease;outline:none}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#ff3a3e}"]});let n=t;return n})();function An(n,t){if(n&1&&(d(0,"h5",33),c(1),s()),n&2){let o=p().$implicit;u(),ee("",o.className," ")}}function Tn(n,t){if(n&1){let o=P();d(0,"h5",33)(1,"input",34),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.className,i)||(r.className=i),M(i)}),s()()}if(n&2){let o=p().$implicit;u(),f("ngModel",o.className)}}function kn(n,t){if(n&1&&g(0,"input",35),n&2){let o=p().$implicit;X("value",o.teacher)}}function Fn(n,t){if(n&1){let o=P();d(0,"input",18),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.teacher,i)||(r.teacher=i),M(i)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.teacher)}}function On(n,t){if(n&1&&g(0,"input",35),n&2){let o=p().$implicit;X("value",o.bigClass)}}function In(n,t){if(n&1){let o=P();d(0,"input",18),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.bigClass,i)||(r.bigClass=i),M(i)}),y("ngModelChange",function(i){w(o);let r=p().$implicit;return M(r.bigClass=i||0)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.bigClass)}}function Bn(n,t){if(n&1&&g(0,"input",35),n&2){let o=p().$implicit;X("value",o.middleClass)}}function Nn(n,t){if(n&1){let o=P();d(0,"input",18),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.middleClass,i)||(r.middleClass=i),M(i)}),y("ngModelChange",function(i){w(o);let r=p().$implicit;return M(r.middleClass=i||0)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.middleClass)}}function jn(n,t){if(n&1&&g(0,"input",35),n&2){let o=p().$implicit;X("value",o.smallClass)}}function Ln(n,t){if(n&1){let o=P();d(0,"input",18),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.smallClass,i)||(r.smallClass=i),M(i)}),y("ngModelChange",function(i){w(o);let r=p().$implicit;return M(r.smallClass=i||0)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.smallClass)}}function Wn(n,t){if(n&1){let o=P();d(0,"button",36),y("click",function(){w(o);let i=p().$implicit,r=p();return M(r.startEditing(i))}),c(1,"\u7DE8\u8F2F"),s()}}function Rn(n,t){if(n&1){let o=P();d(0,"button",36),y("click",function(){w(o);let i=p().$implicit,r=p();return M(r.updateClassData(i))}),c(1,"\u4FDD\u5B58"),s()}}function Un(n,t){if(n&1){let o=P();d(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),E(4,An,2,1,"h5",26)(5,Tn,2,1,"h5",26),d(6,"p"),c(7,"\u73ED\u7D1A\u7E3D\u4EBA\u6578\uFF1A"),d(8,"span",27),c(9),s()()(),g(10,"hr"),d(11,"div",15)(12,"div",16)(13,"label",17),c(14,"\u8CA0\u8CAC\u5C0E\u5E2B\uFF1A"),s(),E(15,kn,1,1,"input",28)(16,Fn,1,1,"input",29),s(),d(17,"div",16)(18,"label",17),c(19,"\u5927\u73ED\u6BB5\u4EBA\u6578\uFF1A"),s(),E(20,On,1,1,"input",28)(21,In,1,1,"input",29),s(),d(22,"div",16)(23,"label",17),c(24,"\u4E2D\u73ED\u6BB5\u4EBA\u6578\uFF1A"),s(),E(25,Bn,1,1,"input",28)(26,Nn,1,1,"input",29),s(),d(27,"div",16)(28,"label",17),c(29,"\u5C0F\u73ED\u6BB5\u4EBA\u6578\uFF1A"),s(),E(30,jn,1,1,"input",28)(31,Ln,1,1,"input",29),s()(),g(32,"hr"),d(33,"div",30),E(34,Wn,2,0,"button",31)(35,Rn,2,0,"button",31),d(36,"button",32),y("click",function(){let r=w(o).$implicit,l=p();return M(l.deleteClass(r))}),c(37,"\u522A\u9664"),s()()()()()}if(n&2){let o=t.$implicit,e=p();h("id",o.id),u(4),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(4),W(e.calculateTotal(o)),u(6),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(4),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(4),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(4),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(3),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit)}}var Le=(()=>{let t=class t{constructor(e){this.http=e,this.isEdit=!1,this.class=[]}ngOnInit(){this.http.get("api/Kid/class").subscribe(e=>{this.class=e.sort((i,r)=>i.id-r.id)})}addclass(){if(!this.teacherValue||!this.classNameValue){alert("\u8ACB\u586B\u5BEB\u5B8C\u6574\u7684\u73ED\u7EA7\u540D\u7A31\uFF0C\u8CA0\u8CAC\u8001\u5E2B");return}this.bigClassValue||(this.bigClassValue=0),this.middleClassValue||(this.middleClassValue=0),this.smallClassValue||(this.smallClassValue=0);let e={teacher:this.teacherValue,bigClass:this.bigClassValue,middleClass:this.middleClassValue,smallClass:this.smallClassValue,className:this.classNameValue};this.http.post("api/Kid/class",e).subscribe(()=>{window.location.reload()})}updateClassData(e){this.http.put("api/Kid/class/"+e.id,e).subscribe(()=>{this.isEdit=!1,console.log("\u66F4\u65B0\u6210\u529F"),window.location.reload()},i=>{console.error("\u66F4\u65B0\u5931\u8D25:",i)})}deleteClass(e){window.confirm("\u78BA\u5B9A\u8981\u522A\u9664\u55CE\uFF1F")&&this.http.delete("api/Kid/class/"+e.id).subscribe(()=>{this.class=this.class.filter(r=>r.id!==e.id)})}totalPeople(e){return e.middleClass+e.bigClass+e.smallClass}startEditing(e){e.isEdit=!0}calculateTotal(e){let i=parseInt(e.smallClass)||0,r=parseInt(e.middleClass)||0,l=parseInt(e.bigClass)||0;return i+r+l}};t.\u0275fac=function(i){return new(i||t)(m(A))},t.\u0275cmp=S({type:t,selectors:[["app-class"]],standalone:!0,features:[V],decls:46,vars:6,consts:[["id","v-pills-tabContent",1,"tab-content"],["id","class-management","role","tabpanel","aria-labelledby","class-management-tab",1,"tab-pane","fade","show","active"],[1,"tab-title"],[1,"classCards"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",3,"id",4,"ngFor","ngForOf"],[1,"col"],["type","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","addButton","bg-white"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"classData"],[1,"classRow"],["for",""],["type","text",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col",3,"id"],[1,"card","h-100"],[1,"card-content"],[1,"card-title"],["class","className",4,"ngIf"],[1,"totalPeople"],["type","text","readonly","",3,"value",4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],[1,"classBtn"],["class","classEditBtn",3,"click",4,"ngIf"],[1,"deleteBtn",3,"click"],[1,"className"],["type","text",1,"classNameInput",3,"ngModel","ngModelChange"],["type","text","readonly","",3,"value"],[1,"classEditBtn",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u73ED\u7D1A\u7BA1\u7406"),s()(),g(5,"hr"),d(6,"div",3)(7,"div",4),E(8,Un,38,14,"div",5),d(9,"div",6)(10,"button",7),c(11,"+ "),s(),d(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h5",12),c(17,"\u65B0\u589E\u73ED\u7D1A"),s(),g(18,"button",13),s(),d(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),c(23,"\u73ED\u7D1A\u540D\u7A31\uFF1A"),s(),d(24,"input",18),_("ngModelChange",function(a){return b(r.classNameValue,a)||(r.classNameValue=a),a}),s()(),d(25,"div",16)(26,"label",17),c(27,"\u8CA0\u8CAC\u5C0E\u5E2B\uFF1A"),s(),d(28,"input",18),_("ngModelChange",function(a){return b(r.teacherValue,a)||(r.teacherValue=a),a}),s()(),d(29,"div",16)(30,"label",17),c(31,"\u5927\u73ED\u6BB5\u4EBA\u6578\uFF1A"),s(),d(32,"input",18),_("ngModelChange",function(a){return b(r.bigClassValue,a)||(r.bigClassValue=a),a}),s()(),d(33,"div",16)(34,"label",17),c(35,"\u4E2D\u73ED\u6BB5\u4EBA\u6578\uFF1A"),s(),d(36,"input",18),_("ngModelChange",function(a){return b(r.middleClassValue,a)||(r.middleClassValue=a),a}),s()(),d(37,"div",16)(38,"label",17),c(39,"\u5C0F\u73ED\u6BB5\u4EBA\u6578\uFF1A"),s(),d(40,"input",18),_("ngModelChange",function(a){return b(r.smallClassValue,a)||(r.smallClassValue=a),a}),s()()()(),d(41,"div",19)(42,"button",20),c(43,"\u53D6\u6D88"),s(),d(44,"button",21),y("click",function(){return r.addclass()}),c(45,"\u65B0\u589E"),s()()()()()()()()()()),i&2&&(u(8),h("ngForOf",r.class),u(16),f("ngModel",r.classNameValue),u(4),f("ngModel",r.teacherValue),u(4),f("ngModel",r.bigClassValue),u(4),f("ngModel",r.middleClassValue),u(4),f("ngModel",r.smallClassValue))},dependencies:[B,nt,R,j,k,N,I],styles:[".tab-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700}.card[_ngcontent-%COMP%]{max-width:400px;width:100%;border-radius:.5rem}.tab-content[_ngcontent-%COMP%]{width:100%}.col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.classRow[_ngcontent-%COMP%]{max-width:100%;display:flex;padding:10px 0}h5[_ngcontent-%COMP%]{font-size:x-large;font-weight:700;margin:0}label[_ngcontent-%COMP%]{width:100px;display:flex;align-items:center;justify-content:flex-end;white-space:nowrap}.card-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;margin:0;align-items:center}.card-content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}.classData[_ngcontent-%COMP%]{padding:10px}.classBtn[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;padding:10px}.classBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a}.classEditBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8)}.classEditBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8)}.deleteBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ff6666a8,#cc3333a8)}.deleteBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#cc3333a8,#ff6666a8)}button[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d!important}input[readonly][_ngcontent-%COMP%]{background-color:#e6e5e5;color:#000}input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #808080}.addButton[_ngcontent-%COMP%]{border:none;width:100px;height:100px;background-color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:50px;cursor:pointer;box-shadow:0 2px 5px #0000001a;transition:box-shadow .3s ease;color:#000}.addButton[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0000004d;color:#000}.addButton[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d;color:#000}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1.5px solid #949494}.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}.confirm-model[_ngcontent-%COMP%]{max-width:250px}.confirm-model[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.totalPeople[_ngcontent-%COMP%]{font-weight:700;font-size:x-large;color:#ca495f}.card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;white-space:nowrap;display:inline-block}.classIcon[_ngcontent-%COMP%]{width:15px;margin-top:0}.className[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img.classIcon[_ngcontent-%COMP%]{vertical-align:top}.classNameInput[_ngcontent-%COMP%]{width:150px}"]});let n=t;return n})();var Gn=()=>["/Interface/permissions"];function $n(n,t){if(n&1&&(d(0,"a",15),c(1,"\u5E33\u865F\uFF0F\u6B0A\u9650\u7BA1\u7406"),s()),n&2){let o=p();z("active",o.setActiveClass("/Interface/permissions")),h("routerLink",L(3,Gn))}}var Hn=()=>["/Interface"],zn=()=>["/Interface/Class"],qn=()=>["/Interface/Staff"],Kn=()=>["/Interface/Supplier"],Zn=()=>["/Interface/Material"],jt=(()=>{let t=class t{constructor(e,i,r){this.http=e,this.router=i,this.cookieService=r}setActiveClass(e){return this.router.url===e}logout(){this.http.delete("/api/Login").subscribe(e=>{this.cookieService.delete("isLoggedIn"),this.cookieService.delete("permissions"),this.router.navigate(["/Login"])},e=>{console.error("\u767B\u51FA\u6642\u767C\u751F\u932F\u8AA4\uFF1A",e)})}};t.\u0275fac=function(i){return new(i||t)(m(A),m(U),m(G))},t.\u0275cmp=S({type:t,selectors:[["app-basic-menu"]],standalone:!0,features:[V],decls:24,vars:19,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU","crossorigin","anonymous"],["rel","stylesheet","type","text/css","href","https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css"],[1,"body"],[1,"sidebar"],[1,"align-items-start"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","meun"],["id","v-pills-home-tab",1,"menu-item","active",3,"routerLink"],[1,"home"],[1,"hr-bold"],["routerLinkActive","router-link-active","id","class-management-tab","data-bs-target","#class-management","role","tab",1,"nav-link","menu-item",3,"routerLink"],["id","supplier-tab","data-bs-target","#supplier","role","tab",1,"nav-link","menu-item",3,"routerLink"],["class","nav-link menu-item","id","authority-management-tab","data-bs-target","#authority-management","role","tab",3,"routerLink","active",4,"ngIf"],[1,"nav","flex-column","nav-pills","meun"],[1,"nav-link","menu-item","sign-out",3,"click"],[1,"content"],["id","authority-management-tab","data-bs-target","#authority-management","role","tab",1,"nav-link","menu-item",3,"routerLink"]],template:function(i,r){i&1&&(g(0,"link",0)(1,"link",1),d(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6)(7,"span",7),c(8,"Home"),s()(),g(9,"hr",8),d(10,"a",9),c(11,"\u73ED\u7D1A\u7BA1\u7406"),s(),d(12,"a",10),c(13,"\u8077\u54E1\u8CC7\u6599"),s(),d(14,"a",10),c(15,"\u5408\u4F5C\u5EE0\u5546"),s(),d(16,"a",10),c(17,"\u7269\u6599\u67E5\u8A62"),s(),E(18,$n,2,4,"a",11),s(),d(19,"div",12)(20,"a",13),y("click",function(){return r.logout()}),c(21,"\u767B\u51FA"),s()()()(),d(22,"div",14),g(23,"router-outlet"),s()()),i&2&&(u(6),h("routerLink",L(14,Hn)),u(4),z("active",r.setActiveClass("/Interface/Class")),h("routerLink",L(15,zn)),u(2),z("active",r.setActiveClass("/Interface/Staff")),h("routerLink",L(16,qn)),u(2),z("active",r.setActiveClass("/Interface/Supplier")),h("routerLink",L(17,Kn)),u(2),z("active",r.setActiveClass("/Interface/Material")),h("routerLink",L(18,Zn)),u(2),h("ngIf",r.cookieService.get("permissions")==="true"))},dependencies:[Mt,ot,it,rt,B,R],styles:[".body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;background-color:#f8d7da;min-height:100vh;display:flex}input[_ngcontent-%COMP%]{cursor:pointer}p[_ngcontent-%COMP%]{margin:0}.sidebar[_ngcontent-%COMP%]{background:linear-gradient(to top right,#f96,#ff5e62);box-sizing:border-box}.content[_ngcontent-%COMP%]{width:100%;padding:30px}.meun[_ngcontent-%COMP%]{width:200px}.menu-item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer;background-color:transparent!important;border:none!important;color:#fff;font-size:large;padding:.5rem 1rem;border-radius:0;transition:background-color .3s,box-shadow .3s}.menu-item[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#da1e37!important;color:#fff;box-shadow:3px 3px 10px #0003}.nav-link.active.menu-item[_ngcontent-%COMP%]{background-color:#da1e37!important;color:#fff;box-shadow:3px 3px 10px #0003}.nav-link.menu-item[_ngcontent-%COMP%]:focus{outline:none}#v-pills-home-tab[_ngcontent-%COMP%]{padding:20px;margin:0}.hr-bold[_ngcontent-%COMP%]{background-color:#fff;margin:10px 0}.align-items-start[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.nav-pills[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{text-decoration:none}.home[_ngcontent-%COMP%]{font-size:x-large}"]});let n=t;return n})();var We=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=S({type:t,selectors:[["app-user-interface"]],standalone:!0,features:[V],decls:1,vars:0,template:function(i,r){i&1&&g(0,"app-basic-menu")},dependencies:[jt,B]});let n=t;return n})();var Xn=()=>["/Interface/addNewSupplier"],Re=(()=>{let t=class t{constructor(e){this.http=e,this.supplier=[]}ngAfterViewInit(){this.loadData()}loadData(){this.http.get("api/Kid/Supplier").subscribe(e=>{$(document).ready(()=>{let i=$("#example").DataTable({data:e,columns:[{title:"\u5EE0\u5546\u540D\u7A31",data:"supplierName",width:"10%"},{title:"",width:"10%",render:function(r,l,a){return'<div style="padding:3px;">\u5EE0\u5546\u985E\u578B</div><div style="padding:3px;">\u5EE0\u5546\u5730\u5740</div><div style="padding:3px;">\u806F\u7D61\u96FB\u8A71</div><div style="padding:3px;">\u7D71\u7DE8</div><div style="padding:3px;">\u5099\u8A3B</div>'}},{title:"",render:(r,l,a)=>{let v=a.supplierRemarks?a.supplierRemarks:"\u7121",C=a.supplierType==="\u96FB\u5546"?" selected":"";return`<div style="padding: 3px;">
                           <select style="display: none; width: 450px;" id="select_type${a.supplierId}">
                             <option value="\u5BE6\u9AD4\u5E97\u5BB6"}>\u5BE6\u9AD4\u5E97\u5BB6</option>
                             <option value="\u96FB\u5546"${C}>\u96FB\u5546</option>
                           </select>
                           <span>${a.supplierType}</span>
                        </div><div style="padding: 3px;"><input style="display: none; width: 450px;" type="text" id="input_address_`+a.supplierId+'" value="'+a.supplierAddress+'"></input><span>'+a.supplierAddress+'</span></div><div style="padding: 3px;"><input style="display: none; width: 450px;" type="text" id="input_phone_'+a.supplierId+'" value="'+a.supplierPhone+'"></input><span>'+a.supplierPhone+'</span></div><div style="padding: 3px;"><input style="display: none; width: 450px;" type="text" id="input_taxId_'+a.supplierId+'" value="'+a.taxId+'"></input><span>'+a.taxId+'</span></div><div style="padding: 3px;"><input style="display: none; width: 450px;" type="text" id="input_remarks_'+a.supplierId+'" value="'+v+'"></input><span>'+v+"</span></div>"}},{title:"",width:"10%",render:function(r,l,a){return`<button class="edit-button">\u7DE8\u8F2F</button><button class="save-button" style="display:none;">\u4FDD\u5B58</button><button class="delete-button" data-id="${a.supplierId}">\u522A\u9664</button>`}}]});$("#example").on("click",".edit-button",r=>{let l=$(r.target).closest("tr"),a=l.find(".delete-button").data("id");l.find(".save-button").show(),l.find(".edit-button").hide(),$("#select_type"+a).show(),$("#select_type"+a).next("span").hide(),$("#input_address_"+a).show(),$("#input_address_"+a).next("span").hide(),$("#input_phone_"+a).show(),$("#input_phone_"+a).next("span").hide(),$("#input_taxId_"+a).show(),$("#input_taxId_"+a).next("span").hide(),$("#input_remarks_"+a).show(),$("#input_remarks_"+a).next("span").hide()}),$("#example").on("click",".save-button",r=>{let l=$(r.target).closest("tr"),a=l.find(".delete-button").data("id"),v=$("#select_type"+a).val(),C=$("#input_address_"+a).val(),T=$("#input_phone_"+a).val(),D=$("#input_taxId_"+a).val(),x=$("#input_remarks_"+a).val(),Z=l.find("td:eq(0)").text();if(!C){alert("\u5FC5\u9808\u586B\u5BEB\u5EE0\u5546\u5730\u5740");return}if(!T){alert("\u5FC5\u9808\u586B\u5BEB\u806F\u7D61\u96FB\u8A71");return}(!D||D.trim()==="")&&(D="\u7121"),(!x||x.trim()==="")&&(x="\u7121");let Xe={supplierId:a,supplierType:v,supplierName:Z,supplierAddress:C,supplierPhone:T,taxId:D,supplierRemarks:x};this.updateSupplierData(Xe),l.find(".save-button").hide(),l.find(".edit-button").show(),$("#select_type"+a).hide().next("span").text(v).show(),$("#input_address_"+a).hide().next("span").text(C).show(),$("#input_phone_"+a).hide().next("span").text(T).show(),$("#input_taxId_"+a).hide().next("span").text(D).show(),$("#input_remarks_"+a).hide().next("span").text(x).show()}),$("#example").on("click",".delete-button",r=>{let l=$(r.target).data("id");this.deleteSupplier(l)})})})}deleteSupplier(e){confirm("\u78BA\u5B9A\u8981\u522A\u9664\u9019\u500B\u4F9B\u61C9\u5546\u55CE\uFF1F")&&this.http.delete(`api/Kid/Supplier/${e}`).subscribe(()=>{this.supplier=this.supplier.filter(r=>r.supplierId!==e),$("#example").DataTable().destroy(),this.loadData()})}updateSupplierData(e){this.http.put("api/Kid/Supplier/"+e.supplierId,e).subscribe(()=>{console.log("\u66F4\u65B0\u6210\u529F")},i=>{console.error("\u66F4\u65B0\u5931\u8D25:",i)})}};t.\u0275fac=function(i){return new(i||t)(m(A))},t.\u0275cmp=S({type:t,selectors:[["app-supplier"]],standalone:!0,features:[V],decls:47,vars:2,consts:[["id","v-pills-tabContent",1,"tab-content"],["id","class-management","role","tabpanel","aria-labelledby","class-management-tab",1,"tab-pane","fade","show","active"],[1,"tab-title"],["routerLinkActive","router-link-active",1,"addNewBtn",3,"routerLink"],[1,"Tables"],["id","example",1,"display",2,"width","100%"],[2,"width","10%"],[2,"width","8%"],[1,"tableBtn"],[1,"editBtn"],[1,"deleteBtn"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u5408\u4F5C\u5EE0\u5546"),s()(),g(5,"hr"),d(6,"div")(7,"a",3),c(8,"\u65B0\u589E"),s()(),d(9,"div",4)(10,"table",5)(11,"thead")(12,"tr")(13,"th"),c(14,"\u5EE0\u5546\u540D\u7A31"),s(),g(15,"th")(16,"th")(17,"th"),s()(),d(18,"tbody")(19,"tr")(20,"td",6),c(21,"\u5354\u69AE"),s(),d(22,"td",6)(23,"div")(24,"span"),c(25,"\u5730\u5740"),s()(),d(26,"div"),c(27,"\u96FB\u8A71"),s(),d(28,"div"),c(29,"\u7D71\u7DE8"),s(),d(30,"div"),c(31,"\u5099\u8A3B"),s()(),d(32,"td")(33,"div"),c(34,"\u65B0\u7AF9\u7E23\u65B0\u8C50\u9109\u5713\u5C71\u5B50116\u4E4B13"),s(),d(35,"div"),c(36,"0905062425"),s(),d(37,"div"),c(38,"90847470"),s(),d(39,"div"),c(40,"\u7121\u88DC\u5145"),s()(),d(41,"td",7)(42,"div",8)(43,"a",9),c(44,"\u7DE8\u8F2F"),s(),d(45,"a",10),c(46,"\u522A\u9664"),s()()()()()()()()()),i&2&&(u(7),h("routerLink",L(1,Xn)))},dependencies:[ot,it,rt],styles:[".tab-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700}.tab-content[_ngcontent-%COMP%], .tab-pane[_ngcontent-%COMP%]{width:100%}.Tables[_ngcontent-%COMP%]{margin-top:20px}.tableBtn[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.Tables[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .addNewBtn[_ngcontent-%COMP%], .editBtn[_ngcontent-%COMP%], .deleteBtn[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a}.editBtn[_ngcontent-%COMP%], .addNewBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8)}.editBtn[_ngcontent-%COMP%]:hover, .addNewBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8)}.editBtn[_ngcontent-%COMP%]:active, .addNewBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d}.deleteBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ff6666a8,#cc3333a8)}.deleteBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#cc3333a8,#ff6666a8)}.deleteBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:visited{color:#000}"]});let n=t;return n})();var Ue=(()=>{let t=class t{constructor(e,i){this.http=e,this.router=i,this.supplier={supplierName:"",supplierAddress:"",supplierPhone:"",supplierType:""}}addSupplier(){if(!this.supplier.supplierName.trim()){alert("\u8ACB\u586B\u5BEB\u5EE0\u5546\u540D\u7A31");return}if(!this.supplier.supplierType.trim()){alert("\u8ACB\u9078\u64C7\u5EE0\u5546\u985E\u578B");return}if(!this.supplier.supplierAddress.trim()){alert("\u8ACB\u586B\u5BEB\u5EE0\u5546\u5730\u5740");return}if(!this.supplier.supplierPhone.trim()){alert("\u8ACB\u586B\u5BEB\u5EE0\u5546\u96FB\u8A71");return}this.supplier.taxId||(this.supplier.taxId="\u7121"),this.http.post("api/Kid/Supplier",this.supplier).subscribe(()=>{console.log("Supplier added successfully!"),this.router.navigate(["/Interface/Supplier"])},e=>{console.error("Failed to add supplier:",e),alert("\u8CC7\u6599\u65B0\u589E\u5931\u6557")})}};t.\u0275fac=function(i){return new(i||t)(m(A),m(U))},t.\u0275cmp=S({type:t,selectors:[["app-add-new-supplier"]],standalone:!0,features:[V],decls:46,vars:6,consts:[[1,"content"],[1,"addSupplier"],[1,"title"],[1,"addSupplier-row"],[1,"addSupplier-col"],["for","supplierName"],["type","text","id","supplierName",3,"ngModel","ngModelChange"],["for","supplierAddress"],["id","supplierAddress",3,"ngModel","ngModelChange"],["value","\u5BE6\u9AD4\u5E97\u5BB6"],["value","\u96FB\u5546"],["type","text","id","supplierAddress",3,"ngModel","ngModelChange"],["for","supplierPhone"],["type","text","id","supplierPhone",3,"ngModel","ngModelChange"],["for","taxId"],["type","text","id","taxId",3,"ngModel","ngModelChange"],["for","supplierRemarks"],["type","text","id","supplierRemarks",3,"ngModel","ngModelChange"],[1,"addSupplierBtn"],["href","./Interface/Supplier",1,"deleteBtn"],[1,"addBtn",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u65B0\u589E\u5EE0\u5546"),s()(),g(5,"hr"),d(6,"div")(7,"div",3)(8,"div",4)(9,"label",5),c(10,"\u5EE0\u5546\u540D\u7A31\uFF1A"),s(),d(11,"input",6),_("ngModelChange",function(a){return b(r.supplier.supplierName,a)||(r.supplier.supplierName=a),a}),s()()(),d(12,"div",3)(13,"div",4)(14,"label",7),c(15,"\u5EE0\u5546\u985E\u578B\uFF1A"),s(),d(16,"select",8),_("ngModelChange",function(a){return b(r.supplier.supplierType,a)||(r.supplier.supplierType=a),a}),d(17,"option",9),c(18,"\u5BE6\u9AD4\u5E97\u5BB6"),s(),d(19,"option",10),c(20,"\u96FB\u5546"),s()()()(),d(21,"div",3)(22,"div",4)(23,"label",7),c(24,"\u5730\u5740\uFF1A"),s(),d(25,"input",11),_("ngModelChange",function(a){return b(r.supplier.supplierAddress,a)||(r.supplier.supplierAddress=a),a}),s()()(),d(26,"div",3)(27,"div",4)(28,"label",12),c(29,"\u96FB\u8A71\uFF1A"),s(),d(30,"input",13),_("ngModelChange",function(a){return b(r.supplier.supplierPhone,a)||(r.supplier.supplierPhone=a),a}),s()()(),d(31,"div",3)(32,"div",4)(33,"label",14),c(34,"\u7D71\u7DE8\uFF1A"),s(),d(35,"input",15),_("ngModelChange",function(a){return b(r.supplier.taxId,a)||(r.supplier.taxId=a),a}),s()()(),d(36,"div",3)(37,"div",4)(38,"label",16),c(39,"\u5099\u8A3B\uFF1A"),s(),d(40,"input",17),_("ngModelChange",function(a){return b(r.supplier.supplierRemarks,a)||(r.supplier.supplierRemarks=a),a}),s()()()(),d(41,"div",18)(42,"a",19),c(43,"\u53D6\u6D88"),s(),d(44,"a",20),y("click",function(){return r.addSupplier()}),c(45,"\u78BA\u8A8D"),s()()()()),i&2&&(u(11),f("ngModel",r.supplier.supplierName),u(5),f("ngModel",r.supplier.supplierType),u(9),f("ngModel",r.supplier.supplierAddress),u(5),f("ngModel",r.supplier.supplierPhone),u(5),f("ngModel",r.supplier.taxId),u(5),f("ngModel",r.supplier.supplierRemarks))},dependencies:[j,It,Bt,k,dt,N,I],styles:[".title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:xx-large}.addSupplier-row[_ngcontent-%COMP%]{padding:10px}.addSupplier-col[_ngcontent-%COMP%]{display:flex}.addSupplier[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:35px;background-color:#fff;border-radius:15px;width:100%;max-width:980px}label[_ngcontent-%COMP%]{display:flex;width:200px;justify-content:flex-end;align-items:center;white-space:nowrap}input[readonly][_ngcontent-%COMP%]{background-color:#e6e5e5;color:#000}input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid}.addSupplierBtn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:25px;padding:15px}a[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a;text-decoration:none}.addBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8);color:#000}.addBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8);color:#000}.addBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d;color:#000}.deleteBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ff6666a8,#cc3333a8);color:#000}.deleteBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#cc3333a8,#ff6666a8);color:#000}.deleteBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d;color:#000}input[_ngcontent-%COMP%]{cursor:pointer}p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.meun[_ngcontent-%COMP%]{width:200px}.menu-item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer;background-color:transparent!important;border:none!important;color:#fff;font-size:large;padding:.5rem 1rem;border-radius:0;transition:background-color .3s,box-shadow .3s}.menu-item[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#da1e37!important;color:#fff;box-shadow:3px 3px 10px #0003}.hr-bold[_ngcontent-%COMP%]{background-color:#fff;margin:10px 0}select[_ngcontent-%COMP%]{width:250px;border:1px solid #000000;border-radius:5px}"]});let n=t;return n})();var Jn=()=>["/Interface/addNewMaterial"],Ge=(()=>{let t=class t{constructor(e){this.http=e,this.products=[]}ngAfterViewInit(){this.loadData()}loadData(){this.http.get("api/Kid/Product").subscribe(e=>{this.products=e,$(document).ready(()=>{$("#example").DataTable({data:this.products,columns:[{title:"\u5EE0\u5546\u540D\u7A31",data:"vendorName",width:"10%"},{title:"\u7A2E\u985E",width:"10%",render:function(i,r,l){return'<div><input type="text" id="input_productCategory_'+l.productId+'" value="'+l.productCategory+'" style="display:none;"></input> <span>'+l.productCategory+"</span></div>"}},{title:"\u5546\u54C1\u540D\u7A31",width:"15%",render:function(i,r,l){return'<div><input type="text" id="input_productName_'+l.productId+'" value="'+l.productName+'" style="display:none;"></input> <span>'+l.productName+"</span></div>"}},{title:"\u7DE8\u865F",width:"15%",render:function(i,r,l){return'<div><input type="text" id="input_productModel_'+l.productId+'" value="'+l.productModel+'" style="display:none;"></input> <span>'+l.productModel+"</span></div>"}},{title:"\u55AE\u4F4D",width:"5%",render:function(i,r,l){return'<div><input type="text" id="input_productUnit_'+l.productId+'" value="'+l.productUnit+'" style="display:none;"></input> <span>'+l.productUnit+"</span></div>"}},{title:"\u5099\u8A3B",render:function(i,r,l){let a=l.productRemarks?l.productRemarks:"";return'<div><input style="display:none; width: 100%;" type="text" id="input_remarks_'+l.productId+'" value="'+a+'" style="display:none;"></input> <span>'+a+"</span></div>"}},{title:"",width:"10%",render:function(i,r,l){return`<button class="edit-button">\u7DE8\u8F2F</button><button class="save-button" style="display:none;">\u4FDD\u5B58</button><button class="delete-button" data-id="${l.productId}">\u522A\u9664</button>`}}],columnDefs:[{targets:[6],orderable:!1}]}),$("#example").on("click",".edit-button",i=>{let r=$(i.target).closest("tr"),l=r.find(".delete-button").data("id");r.find(".save-button").show(),r.find(".edit-button").hide(),$("#input_productCategory_"+l).show(),$("#input_productCategory_"+l).next("span").hide(),$("#input_productName_"+l).show(),$("#input_productName_"+l).next("span").hide(),$("#input_productModel_"+l).show(),$("#input_productModel_"+l).next("span").hide(),$("#input_productUnit_"+l).show(),$("#input_productUnit_"+l).next("span").hide(),$("#input_remarks_"+l).show(),$("#input_remarks_"+l).next("span").hide()}),$("#example").on("click",".save-button",i=>{let r=$(i.target).closest("tr"),l=r.find(".delete-button").data("id"),a=$("#input_productCategory_"+l).val(),v=$("#input_productName_"+l).val(),C=$("#input_productModel_"+l).val(),T=$("#input_productUnit_"+l).val(),D=$("#input_remarks_"+l).val(),x=r.find("td:eq(0)").text();if(!v){alert("\u5FC5\u9808\u586B\u5BEB\u5546\u54C1\u540D\u7A31");return}(!a||a.trim()==="")&&(a="\u7121"),(!C||C.trim()==="")&&(C="\u7121"),(!T||T.trim()==="")&&(T="\u7121"),(!D||D.trim()==="")&&(D="\u7121");let Z={productId:l,vendorName:x,productCategory:a,productName:v,productModel:C,productUnit:T,productRemarks:D};this.updateProductData(Z),r.find(".save-button").hide(),r.find(".edit-button").show(),$("#input_productCategory_"+l).hide().next("span").text(a).show(),$("#input_productName_"+l).hide().next("span").text(v).show(),$("#input_productModel_"+l).hide().next("span").text(C).show(),$("#input_productUnit_"+l).hide().next("span").text(T).show(),$("#input_remarks_"+l).hide().next("span").text(D).show()}),$("#example").on("click",".delete-button",i=>{let r=$(i.target).data("id");this.deleteProduct(r)})})})}deleteProduct(e){confirm("\u78BA\u5B9A\u8981\u522A\u9664\u9019\u500B\u7522\u54C1\u55CE\uFF1F")&&this.http.delete(`api/Kid/Product/${e}`).subscribe(()=>{this.products=this.products.filter(r=>r.productId!==e),$("#example").DataTable().destroy(),this.loadData()})}updateProductData(e){this.http.put("api/Kid/Product/"+e.productId,e).subscribe(()=>{console.log("\u66F4\u65B0\u6210\u529F")},i=>{console.error("\u66F4\u65B0\u5931\u8D25:",i)})}};t.\u0275fac=function(i){return new(i||t)(m(A))},t.\u0275cmp=S({type:t,selectors:[["app-material"]],standalone:!0,features:[V],decls:11,vars:2,consts:[["id","v-pills-tabContent",1,"tab-content"],["id","class-management","role","tabpanel","aria-labelledby","class-management-tab",1,"tab-pane","fade","show","active"],[1,"tab-title"],["routerLinkActive","router-link-active",1,"addNewBtn",3,"routerLink"],[1,"Tables"],["id","example",1,"display",2,"width","100%"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u7269\u6599\u7BA1\u7406"),s()(),g(5,"hr"),d(6,"div")(7,"a",3),c(8,"\u65B0\u589E"),s()(),d(9,"div",4),g(10,"table",5),s()()()),i&2&&(u(7),h("routerLink",L(1,Jn)))},dependencies:[ot,it,rt],styles:[".tab-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700}.tab-content[_ngcontent-%COMP%], .tab-pane[_ngcontent-%COMP%]{width:100%}.Tables[_ngcontent-%COMP%]{margin-top:20px}.tableBtn[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}.Tables[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .addNewBtn[_ngcontent-%COMP%], .editBtn[_ngcontent-%COMP%], .deleteBtn[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a}.editBtn[_ngcontent-%COMP%], .addNewBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8)}.editBtn[_ngcontent-%COMP%]:hover, .addNewBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8)}.editBtn[_ngcontent-%COMP%]:active, .addNewBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d}.deleteBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ff6666a8,#cc3333a8)}.deleteBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#cc3333a8,#ff6666a8)}.deleteBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:visited{color:#000}"]});let n=t;return n})();var $e=(()=>{let t=class t{constructor(e,i){this.http=e,this.router=i,this.product={vendorName:"",productCategory:"",productName:"",productModel:"",productUnit:""}}addProduct(){if(!this.product.vendorName.trim()){alert("\u8ACB\u586B\u5BEB\u5EE0\u5546\u540D\u7A31");return}if(!this.product.productName.trim()){alert("\u8ACB\u586B\u5BEB\u5546\u54C1\u540D\u7A31");return}this.http.post("api/Kid/product",this.product).subscribe(()=>{console.log("product added successfully!"),this.router.navigate(["/Interface/Material"])},e=>{console.error("Failed to add supplier:",e),alert("\u8CC7\u6599\u65B0\u589E\u5931\u6557")})}};t.\u0275fac=function(i){return new(i||t)(m(A),m(U))},t.\u0275cmp=S({type:t,selectors:[["app-add-new-material"]],standalone:!0,features:[V],decls:42,vars:6,consts:[[1,"content"],[1,"addSupplier"],[1,"title"],[1,"addSupplier-row"],[1,"addSupplier-col"],["for",""],["type","text",3,"ngModel","ngModelChange"],[1,"addSupplierBtn"],["href","./Interface/Material",1,"deleteBtn"],[1,"addBtn",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u65B0\u589E\u5546\u54C1"),s()(),g(5,"hr"),d(6,"div")(7,"div",3)(8,"div",4)(9,"label",5),c(10,"\u5EE0\u5546\u540D\u7A31\uFF1A"),s(),d(11,"input",6),_("ngModelChange",function(a){return b(r.product.vendorName,a)||(r.product.vendorName=a),a}),s()()(),d(12,"div",3)(13,"div",4)(14,"label",5),c(15,"\u7A2E\u985E\uFF1A"),s(),d(16,"input",6),_("ngModelChange",function(a){return b(r.product.productCategory,a)||(r.product.productCategory=a),a}),s()()(),d(17,"div",3)(18,"div",4)(19,"label",5),c(20,"\u5546\u54C1\u540D\u7A31\uFF1A"),s(),d(21,"input",6),_("ngModelChange",function(a){return b(r.product.productName,a)||(r.product.productName=a),a}),s()()(),d(22,"div",3)(23,"div",4)(24,"label",5),c(25,"\u7DE8\u865F\uFF1A"),s(),d(26,"input",6),_("ngModelChange",function(a){return b(r.product.productModel,a)||(r.product.productModel=a),a}),s()()(),d(27,"div",3)(28,"div",4)(29,"label",5),c(30,"\u55AE\u4F4D\uFF1A"),s(),d(31,"input",6),_("ngModelChange",function(a){return b(r.product.productUnit,a)||(r.product.productUnit=a),a}),s()()(),d(32,"div",3)(33,"div",4)(34,"label",5),c(35,"\u5099\u8A3B\uFF1A"),s(),d(36,"input",6),_("ngModelChange",function(a){return b(r.product.productRemarks,a)||(r.product.productRemarks=a),a}),s()()()(),d(37,"div",7)(38,"a",8),c(39,"\u53D6\u6D88"),s(),d(40,"a",9),y("click",function(){return r.addProduct()}),c(41,"\u78BA\u8A8D"),s()()()()),i&2&&(u(11),f("ngModel",r.product.vendorName),u(5),f("ngModel",r.product.productCategory),u(5),f("ngModel",r.product.productName),u(5),f("ngModel",r.product.productModel),u(5),f("ngModel",r.product.productUnit),u(5),f("ngModel",r.product.productRemarks))},dependencies:[j,k,N,I],styles:[".title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:xx-large}.addSupplier-row[_ngcontent-%COMP%]{padding:10px}.addSupplier-col[_ngcontent-%COMP%]{display:flex}.addSupplier[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:35px;background-color:#fff;border-radius:15px;width:100%;max-width:980px}label[_ngcontent-%COMP%]{display:flex;width:200px;justify-content:flex-end;align-items:center;white-space:nowrap}input[readonly][_ngcontent-%COMP%]{background-color:#e6e5e5;color:#000}input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid}.addSupplierBtn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:25px;padding:15px}a[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a;text-decoration:none}.addBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8);color:#000}.addBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8);color:#000}.addBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d;color:#000}.deleteBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ff6666a8,#cc3333a8);color:#000}.deleteBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#cc3333a8,#ff6666a8);color:#000}.deleteBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d;color:#000}input[_ngcontent-%COMP%]{cursor:pointer}p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.meun[_ngcontent-%COMP%]{width:200px}.menu-item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer;background-color:transparent!important;border:none!important;color:#fff;font-size:large;padding:.5rem 1rem;border-radius:0;transition:background-color .3s,box-shadow .3s}.menu-item[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#da1e37!important;color:#fff;box-shadow:3px 3px 10px #0003}.hr-bold[_ngcontent-%COMP%]{background-color:#fff;margin:10px 0}"]});let n=t;return n})();function Yn(n,t){if(n&1&&(d(0,"option",38),c(1),s()),n&2){let o=t.$implicit;h("value",o.staffid),u(),W(o.staffname)}}function Qn(n,t){if(n&1){let o=P();d(0,"input",39),y("change",function(){w(o);let i=p();return M(i.updatePermission("1"))}),s()}if(n&2){let o=p();h("checked",o.selectedStaff.permissions.includes("1"))}}function ti(n,t){if(n&1){let o=P();d(0,"input",40),y("change",function(){w(o);let i=p();return M(i.updatePermission("2"))}),s()}if(n&2){let o=p();h("checked",o.selectedStaff.permissions.includes("2"))}}function ei(n,t){if(n&1&&(d(0,"option",38),c(1),s()),n&2){let o=t.$implicit;h("value",o.staffid),u(),W(o.staffname)}}var He=(()=>{let t=class t{constructor(e,i){this.http=e,this.cookieService=i,this.isLoggedIn=!1,this.staff=[]}ngOnInit(){this.http.get("api/Kid/Staff").subscribe(e=>{this.staff=e}),this.checkLoginStatus()}checkLoginStatus(){let e=this.cookieService.get("isLoggedIn");this.isLoggedIn=e==="true"}addNewAccount(){if(!this.newAccount||!this.newPassword||!this.confirmPassword||!this.userName||!this.userPhone||!this.userPermission){alert("\u8ACB\u5B8C\u6574\u586B\u5BEB");return}if(this.newPassword!==this.confirmPassword){alert("\u8ACB\u6AA2\u67E5\u5BC6\u78BC");return}this.http.get("api/Kid/Account/"+this.newAccount).subscribe({next:e=>{if(e)alert("\u5E33\u865F\u5DF2\u5B58\u5728");else{let i={accountid:0,account1:this.newAccount,password:this.confirmPassword,permission:this.userPermission};this.http.post("api/Kid/Account",i).subscribe({next:()=>{let r={staffid:0,staffname:this.userName,permissions:this.userPermission,contactnumber:this.userPhone,account:this.newAccount,image:"https://res.cloudinary.com/dntokf0em/image/upload/v1711612097/test/ys1on7zrxmroha8qn2co.png"};this.http.post("api/Kid/Staff",r).subscribe({next:()=>{alert("\u5275\u5EFA\u6210\u529F"),this.newAccount="",this.newPassword="",this.confirmPassword="",this.userName="",this.userPhone="",this.userPermission="",window.location.reload()},error:l=>alert("\u5275\u5EFA\u54E1\u5DE5\u5931\u6557 "+l.message)})},error:r=>alert("\u5275\u5EFA\u5E33\u865F\u5931\u6557: "+r.message)})}}})}updatePermissions(e){let i=e.target;this.selectedStaff=this.staff.find(r=>r.staffid===+i.value)}storePermission(){if(!this.selectedStaff){console.error("No staff selected");return}let e=this.selectedStaff.staffid;if(e===1){alert("admin \u7121\u6CD5\u8ABF\u6574\u6B0A\u9650");return}let i=[];document.getElementById("permission1").checked&&(i.push("1"),this.cookieService.set("permissions","true")),document.getElementById("permission2").checked&&(i.push("2"),this.cookieService.set("permissions","false"));let r=i.join(",");this.http.put(`api/Kid/UpdatePermissions/${e}`,`"${r}"`,{headers:{"Content-Type":"application/json"}}).subscribe({next:l=>{alert("\u66F4\u65B0\u6210\u529F"),location.reload()}})}updatePermission(e){this.selectedStaff&&(e==="1"?this.selectedStaff.permissions.includes("1")?this.selectedStaff.permissions="2":this.selectedStaff.permissions="1":e==="2"&&(this.selectedStaff.permissions.includes("2")?this.selectedStaff.permissions="1":this.selectedStaff.permissions="2"))}deleteAccount(e){if(e==1){alert("admin\u7121\u6CD5\u88AB\u522A\u9664");return}this.http.get("api/Kid/AccountExists/"+e).subscribe({next:i=>{if(!i){alert("\u627E\u4E0D\u5230\u5E33\u865F");return}window.confirm("\u78BA\u5B9A\u8981\u522A\u9664\u55CE\uFF1F")?this.http.delete("api/Kid/staff/"+e).subscribe(()=>{console.log("\u6210\u529F\u522A\u9664\u8077\u54E1"),this.http.delete("api/Kid/account/"+e).subscribe(()=>{console.log("\u6210\u529F\u522A\u9664\u5E33\u865F"),location.reload()})}):console.log("\u53D6\u6D88\u522A\u9664")},error:i=>{console.error("\u67E5\u627E\u5E33\u865F\u6642\u51FA\u73FE\u932F\u8AA4:",i),alert("\u67E5\u627E\u5E33\u865F\u6642\u51FA\u73FE\u932F\u8AA4")}})}};t.\u0275fac=function(i){return new(i||t)(m(A),m(G))},t.\u0275cmp=S({type:t,selectors:[["app-permissions"]],standalone:!0,features:[V],decls:85,vars:11,consts:[["id","v-pills-tabContent",1,"tab-content"],["id","class-management","role","tabpanel","aria-labelledby","class-management-tab",1,"tab-pane","fade","show","active"],[1,"tab-title"],[1,"container"],[1,"row"],[1,"createAccount","col"],[1,"createAccount-row"],["for","newAccount",1,"newAccount"],["type","text",3,"ngModel","ngModelChange"],["for","newPassword",1,"newAccount"],["type","password",3,"ngModel","ngModelChange"],["for","confirmPassword",1,"newAccount"],["for","userName",1,"newAccount"],["for","userPhone",1,"newAccount"],["for","userPermission",1,"newAccount"],[3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"submit-button"],[1,"storeBtn",3,"click"],[1,"permissions","col"],[1,"teacher-selection"],["for","teacher-select"],["id","teacher-select","name","teacher",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"permissions-row"],["for","permission1"],[1,"switch"],["type","checkbox","id","permission1","name","permission","value","1",3,"checked","change",4,"ngIf"],[1,"slider","round"],["for","permission2"],["type","checkbox","id","permission2","name","permission","value","2",3,"checked","change",4,"ngIf"],["type","submit",1,"storeBtn",3,"click"],[1,"deleteAccount","col"],["id","teacher-select",3,"ngModel","ngModelChange"],[1,"deleteBtn",3,"click"],[1,"col"],[3,"value"],["type","checkbox","id","permission1","name","permission","value","1",3,"checked","change"],["type","checkbox","id","permission2","name","permission","value","2",3,"checked","change"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u6B0A\u9650\u7BA1\u7406"),s()(),g(5,"hr"),d(6,"div",3)(7,"div",4)(8,"div",5)(9,"h5"),c(10,"\u5275\u5EFA\u5E33\u865F"),s(),g(11,"hr"),d(12,"div",6)(13,"label",7),c(14,"\u5E33\u865F\uFF1A"),s(),d(15,"input",8),_("ngModelChange",function(a){return b(r.newAccount,a)||(r.newAccount=a),a}),s()(),d(16,"div",6)(17,"label",9),c(18,"\u5BC6\u78BC\uFF1A"),s(),d(19,"input",10),_("ngModelChange",function(a){return b(r.newPassword,a)||(r.newPassword=a),a}),s()(),d(20,"div",6)(21,"label",11),c(22,"\u518D\u6B21\u78BA\u8A8D\u5BC6\u78BC\uFF1A"),s(),d(23,"input",10),_("ngModelChange",function(a){return b(r.confirmPassword,a)||(r.confirmPassword=a),a}),s()(),d(24,"div",6)(25,"label",12),c(26,"\u59D3\u540D\uFF1A"),s(),d(27,"input",8),_("ngModelChange",function(a){return b(r.userName,a)||(r.userName=a),a}),s()(),d(28,"div",6)(29,"label",13),c(30,"\u96FB\u8A71\uFF1A"),s(),d(31,"input",8),_("ngModelChange",function(a){return b(r.userPhone,a)||(r.userPhone=a),a}),s()(),d(32,"div",6)(33,"label",14),c(34,"\u6B0A\u9650\uFF1A"),s(),d(35,"select",15),_("ngModelChange",function(a){return b(r.userPermission,a)||(r.userPermission=a),a}),d(36,"option",16),c(37,"\u6B0A\u96501"),s(),d(38,"option",17),c(39,"\u6B0A\u96502"),s()()(),d(40,"div",18)(41,"button",19),y("click",function(){return r.addNewAccount()}),c(42,"\u5275\u5EFA"),s()()(),d(43,"div",20)(44,"h5"),c(45,"\u8A2D\u5B9A\u6B0A\u9650"),s(),g(46,"hr"),d(47,"div",21)(48,"label",22),c(49,"\u9078\u64C7\u8001\u5E2B\uFF1A"),s(),d(50,"select",23),y("change",function(a){return r.updatePermissions(a)}),d(51,"option",24),c(52,"\u8ACB\u9078\u64C7\u8001\u5E2B"),s(),E(53,Yn,2,2,"option",25),s()(),d(54,"div",26)(55,"label",27),c(56,"\u6B0A\u9650 1"),s(),g(57,"br"),d(58,"label",28),E(59,Qn,1,1,"input",29),g(60,"span",30),s()(),d(61,"div",26)(62,"label",31),c(63,"\u6B0A\u9650 2"),s(),g(64,"br"),d(65,"label",28),E(66,ti,1,1,"input",32),g(67,"span",30),s()(),d(68,"div",18)(69,"button",33),y("click",function(){return r.storePermission()}),c(70,"\u5132\u5B58"),s()()()(),d(71,"div",4)(72,"div",34)(73,"h5"),c(74,"\u522A\u9664\u5E33\u865F"),s(),g(75,"hr"),d(76,"div",21)(77,"label",22),c(78,"\u9078\u64C7\u8001\u5E2B\uFF1A"),s(),d(79,"select",35),_("ngModelChange",function(a){return b(r.selectedStaffId,a)||(r.selectedStaffId=a),a}),E(80,ei,2,2,"option",25),s()(),d(81,"div",18)(82,"button",36),y("click",function(){return r.deleteAccount(r.selectedStaffId)}),c(83,"\u522A\u9664"),s()()(),g(84,"div",37),s()()()()),i&2&&(u(15),f("ngModel",r.newAccount),u(4),f("ngModel",r.newPassword),u(4),f("ngModel",r.confirmPassword),u(4),f("ngModel",r.userName),u(4),f("ngModel",r.userPhone),u(4),f("ngModel",r.userPermission),u(18),h("ngForOf",r.staff),u(6),h("ngIf",r.selectedStaff),u(7),h("ngIf",r.selectedStaff),u(13),f("ngModel",r.selectedStaffId),u(),h("ngForOf",r.staff))},dependencies:[B,nt,R,j,It,Bt,k,dt,N,I],styles:['.container[_ngcontent-%COMP%]{margin:50px auto;background-color:#fff;padding:30px;border-radius:10px;box-shadow:0 0 20px #0000001a}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.teacher-selection[_ngcontent-%COMP%], .permissions-row[_ngcontent-%COMP%], .createAccount-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px;margin:0 5px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s;border-radius:20px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(20px);-ms-transform:translateX(20px);transform:translate(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:20px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}select[_ngcontent-%COMP%]{height:30px;border:1px solid #000000;border-radius:5px}.tab-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700}.tab-content[_ngcontent-%COMP%], .tab-pane[_ngcontent-%COMP%]{width:100%}.Tables[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a}.storeBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8)}.storeBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8)}.deleteBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ff6666a8,#cc3333a8)}.deleteBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#cc3333a8,#ff6666a8)}button[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d}.col[_ngcontent-%COMP%]{padding:15px;width:450px}h5[_ngcontent-%COMP%]{font-weight:700}.newAccount[_ngcontent-%COMP%]{width:120px}.submit-button[_ngcontent-%COMP%]{display:flex;justify-content:end}']});let n=t;return n})();var Zt=(()=>{let t=class t{constructor(e,i){this.router=e,this.cookieService=i}canActivate(e){return e.routeConfig?.path==="permissions"?this.canActivatePermissions():this.canActivateGeneral()}canActivateGeneral(){return this.cookieService.get("isLoggedIn")==="true"?(this.refreshLoginSession(),!0):(this.router.navigate(["/Login"]),alert("\u8ACB\u5148\u767B\u5165"),!1)}canActivatePermissions(){return this.cookieService.get("permissions")==="true"?(this.refreshLoginSession(),!0):(this.router.navigate(["/Interface"]),alert("\u60A8\u6C92\u6709\u6B0A\u9650\u3002"),!1)}refreshLoginSession(){let e=new Date;e.setMinutes(e.getMinutes()+10),this.cookieService.set("isLoggedIn","true",e)}};t.\u0275fac=function(i){return new(i||t)(tt(U),tt(G))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function ni(n,t){if(n&1&&g(0,"img",21),n&2){let o=p().$implicit;X("src",o.image,Rt)}}function ii(n,t){if(n&1&&g(0,"img",22),n&2){let o=p().$implicit;h("src",o.imageUrl,Rt)}}function ri(n,t){if(n&1){let o=P();d(0,"form",23),y("submit",function(){w(o);let i=p().$implicit,r=p();return M(r.onSubmit(i))}),d(1,"label",24)(2,"input",25),y("change",function(i){w(o);let r=p().$implicit,l=p();return M(l.onFileSelected(i,r))}),s(),c(3," \u9078\u64C7\u5716\u7247 "),s(),d(4,"button",26),c(5,"\u4E0A\u50B3\u5716\u7247"),s()()}}function oi(n,t){if(n&1&&(d(0,"p"),c(1),s()),n&2){let o=p().$implicit;u(),W(o.staffname)}}function ai(n,t){if(n&1){let o=P();d(0,"input",27),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.staffname,i)||(r.staffname=i),M(i)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.staffname)}}function si(n,t){if(n&1&&(d(0,"span"),c(1),s()),n&2){let o=p().$implicit;u(),W(o.contactnumber)}}function di(n,t){if(n&1){let o=P();d(0,"input",27),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.contactnumber,i)||(r.contactnumber=i),M(i)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.contactnumber)}}function li(n,t){if(n&1&&(d(0,"span"),c(1),s()),n&2){let o=p().$implicit;u(),W(o.email)}}function ci(n,t){if(n&1){let o=P();d(0,"input",27),_("ngModelChange",function(i){w(o);let r=p().$implicit;return b(r.email,i)||(r.email=i),M(i)}),s()}if(n&2){let o=p().$implicit;f("ngModel",o.email)}}function ui(n,t){if(n&1){let o=P();d(0,"button",28),y("click",function(){w(o);let i=p().$implicit,r=p();return M(r.startEditing(i))}),c(1,"\u7DE8\u8F2F"),s()}}function pi(n,t){if(n&1){let o=P();d(0,"button",28),y("click",function(){w(o);let i=p().$implicit,r=p();return M(r.updateStaffData(i))}),c(1,"\u4FDD\u5B58"),s()}}function hi(n,t){if(n&1){let o=P();d(0,"button",29),y("click",function(){w(o);let i=p().$implicit,r=p();return M(r.cancelUpdate(i))}),c(1,"\u53D6\u6D88"),s()}}function mi(n,t){if(n&1&&(d(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),E(4,ni,1,1,"img",10)(5,ii,1,1,"img",11)(6,ri,6,0,"form",12)(7,oi,2,1,"p",13)(8,ai,1,1,"input",14),s(),g(9,"hr"),d(10,"div",15)(11,"div",16)(12,"label",17),c(13,"\u54E1\u5DE5\u7DE8\u865F\uFF1A"),s(),d(14,"span"),c(15),s()(),d(16,"div",16)(17,"label",17),c(18,"\u9023\u7D61\u96FB\u8A71\uFF1A"),s(),E(19,si,2,1,"span",13)(20,di,1,1,"input",14),s(),d(21,"div",16)(22,"label",17),c(23,"E-mail\uFF1A"),s(),E(24,li,2,1,"span",13)(25,ci,1,1,"input",14),s(),d(26,"div",18),E(27,ui,2,0,"button",19)(28,pi,2,0,"button",19)(29,hi,2,0,"button",20),s()()()()()),n&2){let o=t.$implicit;u(4),h("ngIf",!o.imageUrl),u(),h("ngIf",o.imageUrl),u(),h("ngIf",o.isEdit),u(),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(7),W(o.staffid),u(4),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(4),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(2),h("ngIf",!o.isEdit),u(),h("ngIf",o.isEdit),u(),h("ngIf",o.isEdit)}}var ze=(()=>{let t=class t{constructor(e){this.http=e,this.selectedFile=null,this.imageUrl=null,this.staff=[],this.isEdit=!1}onFileSelected(e,i){let r=e.target.files[0];if(r){let l=new FileReader;l.onload=a=>{i.imageUrl=a.target.result,this.selectedFile=r},l.readAsDataURL(r)}else i.imageUrl=null,this.selectedFile=null}onSubmit(e){if(this.selectedFile){let i=new FormData;i.append("file",this.selectedFile,"avatar.jpg"),this.uploadToCloudinary(i,e)}}uploadToCloudinary(e,i){let r="clczyoan",l="dntokf0em",a="test";e.append("upload_preset",r),e.append("folder",a);let v=`https://api.cloudinary.com/v1_1/${l}/upload`;this.http.post(v,e).subscribe(C=>{debugger;let T=C.secure_url;alert("\u5716\u7247\u4E0A\u50B3\u6210\u529F"),i.image=T,this.updateStaffData(i)},C=>{console.error("Upload error:",C),alert("\u4E0A\u50B3\u5931\u6557")})}ngOnInit(){this.http.get("api/Kid/Staff").subscribe(e=>{this.staff=e})}startEditing(e){e.isEdit=!0}updateStaffData(e){this.http.put("api/Kid/Staff/"+e.staffid,e).subscribe(()=>{this.isEdit=!1,console.log("\u66F4\u65B0\u6210\u529F"),window.location.reload()},i=>{console.error("\u66F4\u65B0\u5931\u8D25:",i),alert("\u66F4\u65B0\u5931\u8D25")})}cancelUpdate(e){e.isEdit=!1}};t.\u0275fac=function(i){return new(i||t)(m(A))},t.\u0275cmp=S({type:t,selectors:[["app-staff"]],standalone:!0,features:[V],decls:9,vars:1,consts:[["id","v-pills-tabContent",1,"tab-content"],["id","class-management","role","tabpanel","aria-labelledby","class-management-tab",1,"tab-pane","fade","show","active"],[1,"tab-title"],[1,"classCards"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100"],[1,"card-content"],[1,"centered-image"],["alt","Placeholder Image",3,"src",4,"ngIf"],["alt","Uploaded Image",3,"src",4,"ngIf"],[3,"submit",4,"ngIf"],[4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],[1,"classData"],[1,"classRow"],["for",""],[1,"classBtn"],["class","classEditBtn",3,"click",4,"ngIf"],["class","cancelBtn",3,"click",4,"ngIf"],["alt","Placeholder Image",3,"src"],["alt","Uploaded Image",3,"src"],[3,"submit"],[1,"custom-file-upload"],["id","fileInput","type","file",3,"change"],["type","submit",1,"custom-file-upload"],["type","text",3,"ngModel","ngModelChange"],[1,"classEditBtn",3,"click"],[1,"cancelBtn",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u8077\u54E1\u8CC7\u6599"),s()(),g(5,"hr"),d(6,"div",3)(7,"div",4),E(8,mi,30,13,"div",5),s()()()()),i&2&&(u(8),h("ngForOf",r.staff))},dependencies:[B,nt,R,j,Ot,k,N,kt,I,Ct],styles:[".tab-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700}.card[_ngcontent-%COMP%]{max-width:350px;width:100%;border-radius:.5rem}.tab-content[_ngcontent-%COMP%]{width:100%}.col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.classRow[_ngcontent-%COMP%]{max-width:100%;display:flex;padding:10px 0}label[_ngcontent-%COMP%]{width:100px;display:flex;align-items:center;justify-content:flex-end;white-space:nowrap}.card-content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}.classData[_ngcontent-%COMP%]{padding:10px}.centered-image[_ngcontent-%COMP%]{text-align:center;padding:15px}.centered-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:solid 1px black;border-radius:50%;width:150px;height:150px}p[_ngcontent-%COMP%]{margin:0;padding-top:10px;font-weight:bolder;font-size:x-large}.cancelBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#96c2faa8,#1f87e9a8)}.cancelBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#1f87e9a8,#96c2faa8)}.classEditBtn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#77dd77a8,#55aa55a8)}.classEditBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#55aa55a8,#77dd77a8)}button[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 5px #0000004d!important}.classBtn[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;padding:10px}.classBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px;padding:4px 8px;border-radius:5px;border:none;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0000001a}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #a1a0a0;display:inline-block;padding:3px;width:auto;background-color:#fff;margin:3px;border-radius:5px}.custom-file-upload[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;cursor:pointer}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .custom-file-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .custom-file-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;padding:6px;margin:4px;cursor:pointer;background-color:#fff}.custom-file-upload[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%], .custom-file-upload[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{background-color:#f0f0f0}"]});let n=t;return n})();var qe=[{path:"",redirectTo:"Login",pathMatch:"full"},{path:"Login",component:je},{path:"Interface",component:We,children:[{path:"BasicMenu",component:jt},{path:"Class",component:Le},{path:"Staff",component:ze},{path:"Supplier",component:Re},{path:"addNewSupplier",component:Ue},{path:"Material",component:Ge},{path:"addNewMaterial",component:$e},{path:"permissions",component:He,canActivate:[Zt]}],canActivate:[Zt]}];var Ke={providers:[he(qe),ue()]};var gi={providers:[pe()]},Ze=oe(Ke,gi);var fi=()=>ce(me,Ze),Qr=fi;export{Qr as a};
